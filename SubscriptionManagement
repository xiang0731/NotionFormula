# SubscriptionManagement 订阅管理

## 逻辑
通过计算开始日期到现在的月份累计来得到费用

## 公式

### Total计算公式

```notion
(dateBetween(now(), prop("StartDate"), "months") +1 ) * prop("Amount")
```

### 公式解析

通过 `now()` 获取当前时间

通过dateBetween计算 `当前时间` 与 `订阅开始时间` 

由于订阅是预付费使用，所以需要 `+1` ，以包含第一个月的钱

最后乘以订阅单价 `Amount` 得到累计金额

## 演示

now() = 2023/12/15

|       | 项目                     | Type       | Amount | StartDate  | Total                                                        |
| ----- | ------------------------ | ---------- | ------ | ---------- | ------------------------------------------------------------ |
| 类型  | Name                     | Select     | Number | Date       | Formula                                                      |
| 解析  | 名字，比如：iCloud家庭版 | 项目类型   | 金额   | 开始日期   | (dateBetween(now(), prop("StartDate"), "months") +1 ) * prop("Amount") |
| 案例1 | 名字1                    | 充值       | 1000   | 2023/01/01 | 1000                                                         |
| 案例2 | 名字2                    | 一次性付费 | -200   | 2023/02/01 | -200                                                         |
| 案例3 | 名字3                    | 按月订阅   | -10    | 2023/06/01 | -70                                                          |
| 计算  | Sum                      |            |        |            | 730                                                          |
